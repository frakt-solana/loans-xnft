{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { isNull } from 'lodash';\nimport { useCallback, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Screen } from \"../../components/Screen\";\nimport { useMaxBorrowValue } from \"../../hooks\";\nimport { styles } from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useMaxBorrowValue = useMaxBorrowValue(),\n    maxBorrowValue = _useMaxBorrowValue.maxBorrowValue,\n    isLoading = _useMaxBorrowValue.isLoading;\n  var _useState = useState('0'),\n    _useState2 = _slicedToArray(_useState, 2),\n    borrowValue = _useState2[0],\n    setBorrowValue = _useState2[1];\n  var onMaxClick = useCallback(function () {\n    return setBorrowValue((maxBorrowValue == null ? void 0 : maxBorrowValue.toFixed(2)) || '');\n  }, [maxBorrowValue]);\n  var onTextFieldChange = function onTextFieldChange(event) {\n    var value = event.target.value;\n    setBorrowValue(value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1'));\n  };\n  var isBorrowBtnDisabled = !parseFloat(borrowValue);\n  var onBorrowClick = function onBorrowClick() {\n    if (!isBorrowBtnDisabled) {\n      navigation.navigate('Suggestion', {\n        solAmount: parseFloat(borrowValue)\n      });\n    }\n  };\n  if (isLoading || isNull(maxBorrowValue)) {\n    return _jsx(View, {\n      style: styles.loader,\n      children: _jsx(ActivityIndicator, {\n        size: \"large\"\n      })\n    });\n  }\n  return _jsxs(Screen, {\n    style: styles.screen,\n    children: [_jsxs(Text, {\n      style: styles.text,\n      children: [\"Borrow up tp \", maxBorrowValue == null ? void 0 : maxBorrowValue.toFixed(2), \"\\u25CE with your NFTs!\"]\n    }), _jsxs(View, {\n      style: {\n        position: 'relative'\n      },\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        placeholder: maxBorrowValue == null ? void 0 : maxBorrowValue.toFixed(2),\n        value: borrowValue,\n        onChange: onTextFieldChange\n      }), _jsx(Pressable, {\n        style: styles.button,\n        onPress: onMaxClick,\n        children: _jsx(Text, {\n          style: styles.text,\n          children: \"MAX\"\n        })\n      })]\n    }), _jsx(View, {\n      children: _jsx(Pressable, {\n        disabled: isBorrowBtnDisabled,\n        style: [styles.borrowButton, isBorrowBtnDisabled ? styles.borrowButtonDisabled : ''],\n        onPress: onBorrowClick,\n        children: _jsx(Text, {\n          style: styles.textDark,\n          children: \"Borrow\"\n        })\n      })\n    })]\n  });\n}\nexport default HomeScreen;","map":{"version":3,"names":["isNull","useCallback","useState","Text","View","TextInput","Pressable","ActivityIndicator","Screen","useMaxBorrowValue","styles","jsx","_jsx","jsxs","_jsxs","HomeScreen","_ref","navigation","_useMaxBorrowValue","maxBorrowValue","isLoading","_useState","_useState2","_slicedToArray","borrowValue","setBorrowValue","onMaxClick","toFixed","onTextFieldChange","event","value","target","replace","isBorrowBtnDisabled","parseFloat","onBorrowClick","navigate","solAmount","style","loader","children","size","screen","text","position","input","placeholder","onChange","button","onPress","disabled","borrowButton","borrowButtonDisabled","textDark"],"sources":["/Users/ezekiel/Desktop/frakt/loans-xnft/src/screens/HomeScreen/HomeScreen.tsx"],"sourcesContent":["import { isNull } from 'lodash'\nimport { useCallback, useState } from 'react'\nimport {\n  Text,\n  View,\n  TextInput,\n  Pressable,\n  ActivityIndicator,\n} from 'react-native'\n\nimport { Screen } from '../../components/Screen'\nimport { useMaxBorrowValue } from '../../hooks'\n\nimport { styles } from './styles'\n\nfunction HomeScreen({ navigation }: { navigation: any }) {\n  const { maxBorrowValue, isLoading } = useMaxBorrowValue()\n  const [borrowValue, setBorrowValue] = useState<string>('0')\n\n  const onMaxClick = useCallback(\n    () => setBorrowValue(maxBorrowValue?.toFixed(2) || ''),\n    [maxBorrowValue]\n  )\n\n  const onTextFieldChange = (event: any): void => {\n    const value = event.target.value\n    setBorrowValue(value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1'))\n  }\n\n  const isBorrowBtnDisabled = !parseFloat(borrowValue)\n\n  const onBorrowClick = () => {\n    if (!isBorrowBtnDisabled) {\n      navigation.navigate('Suggestion', { solAmount: parseFloat(borrowValue) })\n    }\n  }\n\n  if (isLoading || isNull(maxBorrowValue)) {\n    return (\n      <View style={styles.loader}>\n        <ActivityIndicator size=\"large\" />\n      </View>\n    )\n  }\n\n  return (\n    <Screen style={styles.screen}>\n      <Text style={styles.text}>\n        Borrow up tp {maxBorrowValue?.toFixed(2)}â—Ž with your NFTs!\n      </Text>\n      <View style={{ position: 'relative' }}>\n        <TextInput\n          style={styles.input}\n          placeholder={maxBorrowValue?.toFixed(2)}\n          value={borrowValue}\n          onChange={onTextFieldChange}\n        />\n        <Pressable style={styles.button} onPress={onMaxClick}>\n          <Text style={styles.text}>MAX</Text>\n        </Pressable>\n      </View>\n      <View>\n        <Pressable\n          disabled={isBorrowBtnDisabled}\n          style={[\n            styles.borrowButton,\n            isBorrowBtnDisabled ? styles.borrowButtonDisabled : '',\n          ]}\n          onPress={onBorrowClick}\n        >\n          <Text style={styles.textDark}>Borrow</Text>\n        </Pressable>\n      </View>\n    </Screen>\n  )\n}\n\nexport default HomeScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}